<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>All-in-on Model Based Custom Predictions • allinone</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="All-in-on Model Based Custom Predictions">
<meta property="og:description" content="Decision support tool
  that provides an interface to enable
  custom predictions based on estimates created by the Alberta
  Biodiversity Monitoring Institute (ABMI)
  in collaboration with the Boreal Avian Modelling (BAM) Project.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">allinone</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0-1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ABbiodiversity/allinone/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="allinone" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#allinone" class="anchor"></a>allinone</h1></div>
<blockquote>
<p>All-in-on model based custom predictions</p>
</blockquote>
<p>Install</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ABbiodiversity/allinone"</span><span class="op">)</span></code></pre></div>
<p>Load the package, then download and load the coefs, etc.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ABbiodiversity/allinone">allinone</a></span><span class="op">)</span>

<span class="co">#ai_dowload_coefs()</span>

<span class="fu"><a href="reference/coefs.html">ai_load_coefs</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">## [INFO] Loading coefs</span>

<span class="va">tab</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/helper.html">ai_species</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">tab</span><span class="op">)</span>
<span class="co">## 'data.frame':    2594 obs. of  21 variables:</span>
<span class="co">##  $ SpeciesID     : chr  "Bryoria.fuscescens.glabra.lanestris.vrangiana" ...</span>
<span class="co">##  $ ScientificName: chr  "Bryoria fuscescens/glabra/lanestris/vrangiana" ...</span>
<span class="co">##  $ TSNID         : chr  "99002220" "99002875" "98283083" "99002154" ...</span>
<span class="co">##  $ CommonName    : chr  NA NA NA NA ...</span>
<span class="co">##  $ ModelNorth    : logi  TRUE FALSE FALSE FALSE FALSE TRUE ...</span>
<span class="co">##  $ ModelSouth    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...</span>
<span class="co">##  $ UseavailNorth : logi  FALSE TRUE TRUE FALSE TRUE FALSE ...</span>
<span class="co">##  $ UseavailSouth : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...</span>
<span class="co">##  $ Occurrences   : int  2719 213 151 58 75 1921 1968 2231 2055 402 ...</span>
<span class="co">##  $ nSites        : int  1028 148 73 28 58 846 1006 1008 887 197 ...</span>
<span class="co">##  $ SizeNorth     : logi  NA NA NA NA NA NA ...</span>
<span class="co">##  $ SizeSouth     : logi  NA NA NA NA NA NA ...</span>
<span class="co">##  $ Nonnative     : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...</span>
<span class="co">##  $ LinkHabitat   : chr  "logit" "logit" "logit" "logit" ...</span>
<span class="co">##  $ LinkSpclim    : chr  "logit" "logit" "logit" "logit" ...</span>
<span class="co">##  $ AUCNorth      : num  0.926 0.808 NA NA 0.785 0.864 0.797 0.844 0.869 NA ...</span>
<span class="co">##  $ AUCSouth      : num  0.912 0.881 0.911 0.936 0.879 0.918 0.834 0.926 0.888 0.871 ...</span>
<span class="co">##  $ R2North       : num  0.494 0.15 NA NA 0.09 0.336 0.214 0.3 0.352 NA ...</span>
<span class="co">##  $ R2South       : num  0.356 0.236 0.327 0.359 0.188 0.306 0.213 0.4 0.221 0.297 ...</span>
<span class="co">##  $ Comments      : chr  NA NA NA NA ...</span>
<span class="co">##  $ Group         : chr  "lichens" "lichens" "lichens" "lichens" ...</span>

<span class="co">## example data to see what is needed and how it is formatted</span>
<span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata/example.RData"</span>, package<span class="op">=</span><span class="st">"allinone"</span><span class="op">)</span><span class="op">)</span>

<span class="co">## define species and bootstrap id</span>
<span class="va">spp</span> <span class="op">&lt;-</span> <span class="st">"AlderFlycatcher"</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fl">1</span>

<span class="co">## use composition</span>
<span class="va">z1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/preds.html">ai_predict</a></span><span class="op">(</span><span class="va">spp</span>, 
  spclim<span class="op">=</span><span class="va">spclim</span>, 
  veghf<span class="op">=</span><span class="va">p_veghf</span>, 
  soilhf<span class="op">=</span><span class="va">p_soilhf</span>,
  i<span class="op">=</span><span class="va">i</span><span class="op">)</span>
<span class="co">## [INFO] Making predictions for species AlderFlycatcher (birds)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">z1</span><span class="op">)</span>
<span class="co">## List of 2</span>
<span class="co">##  $ north: num [1:2880, 1:231] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">##   ..- attr(*, "dimnames")=List of 2</span>
<span class="co">##   .. ..$ : chr [1:2880] "1" "2" "3" "4" ...</span>
<span class="co">##   .. ..$ : chr [1:231] "0" "0.000182796893495837" "0.000240745654448181" "0.00031033593035311" ...</span>
<span class="co">##  $ south: num [1:30, 1:19] 0.00 0.00 6.64e-07 0.00 1.41e-05 ...</span>
<span class="co">##   ..- attr(*, "dimnames")=List of 2</span>
<span class="co">##   .. ..$ : chr [1:30] "1167_502" "964_613" "1194_487" "973_442" ...</span>
<span class="co">##   .. ..$ : chr [1:19] "RapidDrain" "Crop" "RoughP" "TameP" ...</span>

<span class="co">## averaging predictions</span>
<span class="va">Combo</span> <span class="op">&lt;-</span> <span class="va">spclim</span><span class="op">$</span><span class="va">wN</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">z1</span><span class="op">$</span><span class="va">north</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">spclim</span><span class="op">$</span><span class="va">wN</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html">rowSums</a></span><span class="op">(</span><span class="va">z1</span><span class="op">$</span><span class="va">south</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">Combo</span><span class="op">)</span>
<span class="co">##  Named num [1:2880] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">##  - attr(*, "names")= chr [1:2880] "1" "2" "3" "4" ...</span>

<span class="co">## use land cover classes</span>
<span class="va">z2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/preds.html">ai_predict</a></span><span class="op">(</span><span class="va">spp</span>, 
  spclim<span class="op">=</span><span class="va">spclim</span>, 
  veghf<span class="op">=</span><span class="va">spclim</span><span class="op">$</span><span class="va">veghf</span>, 
  soilhf<span class="op">=</span><span class="va">spclim</span><span class="op">$</span><span class="va">soilhf</span>,
  i<span class="op">=</span><span class="va">i</span><span class="op">)</span>
<span class="co">## [INFO] Making predictions for species AlderFlycatcher (birds)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">z2</span><span class="op">)</span>
<span class="co">## List of 2</span>
<span class="co">##  $ north: num [1:30, 1:15] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="co">##   ..- attr(*, "dimnames")=List of 2</span>
<span class="co">##   .. ..$ : chr [1:30] "1" "2" "3" "4" ...</span>
<span class="co">##   .. ..$ : chr [1:15] "CCDeciduous2" "CCDeciduousR" "Crop" "GrassHerb" ...</span>
<span class="co">##  $ south: num [1:30, 1:7] 0 0 0 0 0 ...</span>
<span class="co">##   ..- attr(*, "dimnames")=List of 2</span>
<span class="co">##   .. ..$ : chr [1:30] "1" "2" "3" "4" ...</span>
<span class="co">##   .. ..$ : chr [1:7] "Blowout" "Crop" "RapidDrain" "RoughP" ...</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ABbiodiversity/allinone/">https://​github.com/​ABbiodiversity/​allinone/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ABbiodiversity/allinone/issues">https://​github.com/​ABbiodiversity/​allinone/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Peter Solymos <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Peter Solymos.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
